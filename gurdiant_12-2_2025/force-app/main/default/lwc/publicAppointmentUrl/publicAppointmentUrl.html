<template>
    <!-- <div class = "wrapper">
    <div class="calender">
        <div class="header">
            <h1>Calender</h1>
        </div>
        <div class="body">
            <div class="month-row">
                <lightning-icon icon-name="utility:chevronleft" alternative-text="Close" size="x-small" onclick ={handlePrev} class = "icon-color"></lightning-icon>
                <h1 style="margin-right: 8px;  margin-left: 8px; font-weight: 600; color: #020240;font-size: 13px;">{selectedYear} {selectedMonth} </h1>
                <lightning-icon icon-name="utility:chevronright" alternative-text="Close" size="x-small" onclick ={handleNext} class = "icon-color"></lightning-icon>
            </div>
            <div class="weeks">
                <ul> 
                    <template for:each={weeks} for:item="item">
                        <li key={item}>{item}</li>
                    </template>
                </ul>
            </div>
            <div class="days">
                <ul>
                    <template for:each={days} for:item="item">
                        <li  if:false={item.isPast} key={item.day} data-day={item.day} style="cursor:pointer" onclick={handleSelectedDate} class ="enableDates">{item.day}</li>
                        <li  if:true={item.isPast}  key={item.day} style="color: rgba(128, 128, 128, 0.671);cursor:not-allowed">{item.day} </li>
                    </template>
                </ul>
            </div>
        </div>
    </div>
    <div class = "selected-date-col">
        <div class="selected-date">
            <h1>{clickedFullDate}</h1>
        </div>
        <lightning-combobox 
        label="Available Time" 
        value={selectedTime} 
        options={timeOptions} 
        onchange={handleTimeChange}>
    </lightning-combobox>

    </div>


</div> -->
<div style="width:100%;justify-content:center;align-items:center;display:flex">
<lightning-card   style="width: 720px;">
      <div class = "header-card">
    <h1>Book An Appointment</h1>
      </div>
    <div class="slds-p-horizontal_medium">
        <!-- Row 1: Patient Name and Gender -->
        <div class="slds-grid slds-wrap slds-gutters">
            <div class="slds-col  slds-large-size_1-of-2 slds-small-size_1-of-1 slds-size_1-of-1">
                <lightning-input label="Patient Name" value={patientName} onchange={handleInputChange} data-id="patientName"></lightning-input>
            </div>
            <div class="slds-col slds-large-size_1-of-2 slds-small-size_1-of-1 slds-size_1-of-1">
                <lightning-combobox
                    label="Gender"
                    value={gender}
                    options={genderOptions}
                    onchange={handleInputChange}
                    data-id="gender">
                </lightning-combobox>
            </div>
        </div>

        <!-- Row 2: Email and Date of Birth -->
        <div class="slds-grid slds-wrap slds-gutters slds-m-top_small">
            <div class="slds-col  slds-large-size_1-of-2 slds-small-size_1-of-1 slds-size_1-of-1">
                <lightning-input type="email" label="Email" value={email} onchange={handleInputChange} data-id="email"></lightning-input>
            </div>
            <div class="slds-col  slds-large-size_1-of-2 slds-small-size_1-of-1 slds-size_1-of-1">
                <lightning-input type="date" label="Date of Birth" value={dob} onchange={handleInputChange} data-id="dob"></lightning-input>
            </div>
        </div>

        <!-- Row 3: Search Box and Search Button -->
        <div class="slds-grid slds-wrap slds-gutters slds-m-top_small">
            <div class="slds-col slds-size_1-of-2">
                <lightning-input label="Search Clinic Location" value={searchQuery} onchange={setClinicLocation} data-id="searchQuery"></lightning-input>
            </div>
            <div class="slds-col slds-size_1-of-2 slds-m-top_medium" style="margin-top: 24px;">
                <lightning-button variant="brand" label="Search" onclick={handleLocationSearchClick} ></lightning-button>
            </div>
            <!-- <div style="display:flex">
                <lightning-input type="text" label="Clinic Location" onchange={setClinicLocation}></lightning-input>
                <br>
                <lightning-button variant="brand" label="Search" onclick={handleLocationSearchClick} style="margin-top:24px"></lightning-button>
            </div> -->
        </div>

        <!-- Row 4: Lookup Field for Custom Object -->
        <!-- <div class="slds-grid slds-wrap slds-m-top_small">
            <div class="slds-col slds-size_1-of-1 slds-large-size_1-of-3">
                <lightning-record-edit-form object-api-name="Appointment__c" mode="edit" layout-type="Compact"
                >
            
            <lightning-input-field field-name="Clinic_Location__c" value={closestClinicId} onchange={handleClosestclinic} required="true"></lightning-input-field>
            </lightning-record-edit-form>
             <lightning-input label="Custom Object Lookup" onchange={handleInputChange} data-id="customObjectLookup"></lightning-input> 
            </div>
        </div> -->
        <!-- Clinic Name Display -->
        <template if:true={clinicName1}>
            <div class="slds-m-top_medium ">
                <p class="no-border" >Closest Clinic Name </p>
              
                <p >{clinicName} </p>
            </div>
        </template>
        <template if:true={clinicName1}>
            <div class="slds-m-top_medium ">
                <p class="no-border" >Closest Clinic Location </p>
              
                <p >{clinicAddress} </p>
            </div>
        </template>

        <!-- If no clinic name is found -->
        <template if:false={clinicName1}>
            <div class="slds-m-top_medium">
                <p class="error">{ClinickNotFoundMsg}</p>
            </div>
        </template>

       

        <div class="slds-grid slds-wrap slds-m-top_small">

   <div class="head-div">
    <h1>Choose a Date</h1>
    
   </div>
 
    <div class = "wrapper">
    <div class="calender">
        <!-- <div class="header">
            <h1>Calender</h1>
        </div> -->
        <div class="body">
            <div class="month-row">
                <div>
                    <lightning-icon icon-name="utility:chevronleft" alternative-text="Close" size="x-small" onclick ={handlePrev} class = "icon-color"></lightning-icon>
                </div>
               
                <h1 style="margin-right: 8px;  margin-left: 8px; font-weight: 600;font-size: 13px;">{selectedYear} {selectedMonth} </h1>
                <lightning-icon icon-name="utility:chevronright" alternative-text="Close" size="x-small" onclick ={handleNext} class = "icon-color"></lightning-icon>
            </div>
            <div class="weeks">
                <ul> 
                    <template for:each={weeks} for:item="item">
                        <li key={item}>{item}</li>
                    </template>
                </ul>
            </div>
            <div class="days">
                <ul>
                    <template for:each={days} for:item="item">
                        <li  if:true={item.isToday}  key={item.day} data-day={item.day} style="cursor:pointer" onclick={handleSelectedDate} class ="enableDates selected">{item.day} </li>
                        
                        <template if:false={item.isToday} key={item.day}>
                            <li  if:false={item.isPast} key={item.day} data-day={item.day} style="cursor:pointer;border: 1px solid #1e1c1c;" onclick={handleSelectedDate} class ="enableDates">{item.day}</li>
                        </template>
                        <li  if:true={item.isPast}  key={item.day} style="color: rgba(128, 128, 128, 0.671);cursor:not-allowed">{item.day} </li>
                    </template>
                </ul>
            </div>
        </div>
    </div>
    <div class = "selected-date-col ">
        <!-- <div class="selected-date">
            <h1>{clickedFullDate}</h1>
        </div> -->

        <div class="list-container">
            <template if:true={timeOptions}>
                <template for:each={timeOptions} for:item="item">
                    <div key={item.value} class="list-item">
                        {item.label}
                    </div>
                </template>
            </template>
            </div>
        <!-- <lightning-combobox 
        label="Available Time" 
        class="selected-date-duration"
        value={selectedTime} 
        options={timeOptions} 
        onchange={handleTimeChange}>
            </lightning-combobox> -->
            <lightning-combobox 
            label="Duration" 
            class="selected-date-duration"
            value={selectedTime} 
            options={durationOptions} 
            onchange={handleInputChange} data-id="duration">
        </lightning-combobox>

    </div>
   


</div>
       </div>
  <!-- Submit Button -->
        <div class="slds-grid slds-grid_align-end slds-m-top_small slds-p-bottom_medium">
         
                <lightning-button variant="brand" label="Submit" onclick={handleSubmit}></lightning-button>
          
            
        </div>
    </div>
</lightning-card>
</div>

</template>